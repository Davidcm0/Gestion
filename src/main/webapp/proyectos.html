<!DOCTYPE html>
<html lang="es">
<head>
<title>Mis Proyectos</title>
<meta charset="ISO-8859-1">
<!-- Bootstrap CSS -->
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
	integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z"
	crossorigin="anonymous">

<!-- CUSTOM CSS -->
<link rel="stylesheet" href="proyectos.css">
<link rel="stylesheet" href="admin.css">

</head>
<body>
	<div id="headerr"
		class="col-md-6 col-sm-8 col-xl-6 col-lg-4 boxHeaderGestion"
		style="height: 25%;">
		<div class="row">
			<div class="col-md-6">
				<h1></h1>
			</div>
			<div id ="bot" class="col-md-6">
			
				<button type="button" id="volverGestion"
					onclick="window.history.back()">Volver</button>
				<button type="button" id="crearProyecto"
					onclick="mostrarProyectos()" class="btn btn-success">Ocultar
					proyectos</button>

				<!-- ko {if: $root.usuario != "admin"} -->
				<button type="button" id="crearProyecto"
					onclick="window.location.href='form.html'">Crear proyecto</button>
				<div id="boxes"  style="display: none">
				<!-- ko foreach : { data: listaproyectos, as :"proyecto" } -->
				<div  class="form-check" >
					<input class="form-check-input" type="checkbox" value=""
						id="flexCheckDefault"> <label class="form-check-label"
						for="flexCheckDefault" data-bind="html : nombre"> </label>
				</div>
				<!-- /ko -->
				<button type="button" id="crearProyecto" data-bind="click: $root.compararPro" style="margin-right: 75%;">Comparar proyectos</button>
				</div>
				<button class="elegirProyecto" type="button" id="crearProyecto" onclick="Comparar()">Elige proyectos a comparar</button>
				<!-- /ko -->
				<!-- ko {if: $root.usuario === "admin"} -->
				<button type="button" id="crearProyecto"
					onclick="window.location.href='validar.html'">Validar
					usuarios</button>
				<!-- /ko -->


			</div>
		</div>

	</div>



	<div id="koGestion">
		<div class="cards">
			<!-- ko foreach : { data: listaproyectos, as :"proyecto" } -->
			<div class="card" style="width: 18rem; max-width: 18rem;">
				<div class="card-body">
					<h4 class="card-title" data-bind="html : nombre"></h4>
					<h6 class="card-subtitle mb-2 text-muted" data-bind="html : autor"></h6>
					Descripción: <label class="card-text"
						data-bind="html : descripcion"></label></br>
					<!--   Autor: <label
						class="card-text" data-bind="html : autor"></label></br>-->
					DUT: <label class="card-text" data-bind="html : dut"></label></br>
					Repeticiones: <label class="card-text"
						data-bind="html : repeticiones"></label></br> Lenguaje: <label
						class="card-text" data-bind="html : lenguaje"></label></br> Fecha: <label
						class="card-text" data-bind="html : fecha"></label></br> Estado: <label
						class="card-text" data-bind="html : estado"></label></br>


					<!-- ko if: proyecto.proyecto_enviado == true -->
					<b>Proyecto enviado</b>
					<!-- /ko -->
					<!-- ko if: proyecto.proyecto_enviado == false -->
					<b>Proyecto no enviado</b>
					<!-- /ko -->
					<!-- ko if: proyecto.estado == "En preparación" && proyecto.proyecto_enviado == false && $root.usuario !="admin"-->
					<div class="row">
						<div class="col">
							<button type="button" data-bind="click:$root.explorador"
								id="explorador" class="btn btn-outline-success">Cargar
								proyecto</button>
							</br> </br>
						</div>
						<div class="col">
							<button type="button" data-bind="click: enviar" id="enviar"
								class="btn btn-outline-success">Enviar Proyecto</button>
							</br>
						</div>
					</div>
					<!-- /ko -->


					<!-- ko if: (proyecto.estado == "En preparación") || $root.usuario =="admin"  -->
					<!-- 
					<input type="button" class="btn btn-primary" value="Editar proyecto" onclick="javascript:window.open('http://localhost:8080/editar.html','','width=600,height=400,left=50,top=50,toolbar=yes');" />
					 
					<button type="button" class="btn btn-primary"
						data-bs-toggle="modal" data-bs-target="#exampleModal">Editar
						proyecto</button>
						-->
					<!-- Button trigger modal -->
					<button type="button" data-bind="click: info"
						class="btn btn-outline-success" data-toggle="modal"
						data-target="#exampleModal">Editar proyecto</button>



					<!-- /ko -->



					</br>
					<!-- ko if: proyecto.estado == "En preparación" && proyecto.proyecto_enviado == true && $root.usuario !="admin" -->
					<button type="button" data-bind="click: terminar" id="explorador"
						class="btn btn-outline-success">Terminar proyecto</button>
					</br>
					<!-- /ko -->

					<!-- ko if: proyecto.estado === "Medido" && $root.usuario !="admin" -->

					<button type="button" data-bind="click: resultados" id="explorador"
						class="btn btn-outline-success" data-toggle="modal"
						data-target="#exampleModal2">Ver resultados</button>

					<!-- /ko -->



				</div>
			</div>
			<!-- /ko -->
		</div>
		<div id="chartdiv" style="display: none"></div>
		</br>
		<div id="chartdiv2" style="display: none"></div>
		</br>
		<div id="chartdiv3" style="display: none"></div>
		
		<!-- Modal Editar-->
		<div class="modal fade" id="exampleModal" tabindex="-1"
			aria-labelledby="exampleModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="exampleModalLabel">Modificacion
							proyecto</h5>
						<button type="button" class="close" data-dismiss="modal"
							aria-label="Close"
							onclick="window.location.href='proyectos.html'">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						<!-- AQUI METO EL CODIGO -->
						<h1 id="nombrepro">Modificar proyecto</h1>
						<p>
						<form>
							<div id="container" class="form">

								<!-- ko {if: $root.usuario != "admin"} -->
								<div>
									<input id="nombreProyecto" name="nombre" required="required"
										type="text" placeholder="Nombre proyecto" />
								</div>

								<div>
									<textarea id="descripcion" required="required"
										placeholder="descripción"></textarea>
								</div>
								<div>
									<input id="dut" required="required" type="number"
										placeholder="DUT" />
								</div>
								<div>
									<input id="repeticiones" required="required" type="number"
										placeholder="repeticiones" />
								</div>
								<div>
									<label for="inputState">Lenguaje</label> <select id="lenguaje"
										class="form-control">
										<option selected>Elige...</option>
										<option>Java</option>
										<option>Python</option>
									</select>
								</div>
								<!-- /ko -->
								<!-- ko {if: $root.usuario === "admin"} -->
								<div>
									<label for="inputState">Cambiar estado:</label> <select
										id="Estado" class="form-control">
										<option selected>Elige...</option>
										<option>Validado</option>
										<option>Medido</option>
										<option>En preparacion</option>
									</select>
								</div>

								<!-- /ko -->

							</div>
							<p>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-outline-secondary"
							data-dismiss="modal"
							onclick="window.location.href='proyectos.html'">Cerrar</button>
						<button type="button" class="btn btn-outline-success"
							data-dismiss="modal" data-bind="click: $root.modificar">Guardar
							cambios</button>
					</div>
				</div>
			</div>
		</div>

		<!-- Modal Resultados-->
		<div class="modal fade" id="exampleModal2" tabindex="-1"
			aria-labelledby="exampleModalLabel" aria-hidden="true">
			<div class="modal-dialog" style="max-width: 50%;">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="exampleModalLabel">Resultados</h5>
						<button type="button" class="close" data-dismiss="modal"
							aria-label="Close"
							onclick="window.location.href='proyectos.html'">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						<!-- AQUI METO EL CODIGO -->
						<h1 id="Pro"></h1>
						<p>
						<div id="container" class="form">
							<table class="default" border="1" bordercolor="#63DE02"
								cellspacing="20" cellpadding="10">
								<tr>
									<th></th>
									<th>Min</th>
									<th>Max</th>
									<th>Media</th>
									<th>Q1</th>
									<th>Q3</th>
								</tr>
								<tr>
									<th>Tiempo (s)<img src="https://img.icons8.com/material-outlined/24/000000/time.png"/></th>
									<td id="timeMin"></td>
									<td id="timeMax"></td>
									<td id="timeMedia"></td>
									<td id="timeQ1"></td>
									<td id="timeQ3"></td>
								</tr>
								<tr>
									<th>HDD (w)<img src="https://img.icons8.com/metro/26/000000/hdd.png"/></th>
									<td id="HDDMin"></td>
									<td id="HDDMax"></td>
									<td id="HDDMedia"></td>
									<td id="HDDQ1"></td>
									<td id="HDDQ3"></td>
								</tr>
								<tr>
									<th>Gráfica (w)<img src="https://img.icons8.com/wired/32/000000/video-card.png"/></th>
									<td id="GraphsMin"></td>
									<td id="GraphsMax"></td>
									<td id="GraphsMedia"></td>
									<td id="GraphsQ1"></td>
									<td id="GraphsQ3"></td>
								</tr>
								<tr>
									<th>Procesador (w)<img src="https://img.icons8.com/wired/32/000000/processor.png"/></th>
									<td id="ProcesadorMin"></td>
									<td id="ProcesadorMax"></td>
									<td id="ProcesadorMedia"></td>
									<td id="ProcesadorQ1"></td>
									<td id="ProcesadorQ3"></td>
								</tr>
								<tr>
									<th>Monitor (w)<img src="https://img.icons8.com/pastel-glyph/32/000000/monitor.png"/></th>
									<td id="MonitorMin"></td>
									<td id="MonitorMax"></td>
									<td id="MonitorMedia"></td>
									<td id="MonitorQ1"></td>
									<td id="MonitorQ3"></td>
								</tr>
								<tr>
									<th>DUT (w)</th>
									<td id="DUTMin"></td>
									<td id="DUTMax"></td>
									<td id="DUTMedia"></td>
									<td id="DUTQ1"></td>
									<td id="DUTQ3"></td>
								</tr>
							</table>



						</div>
						<p>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-outline-secondary"
							data-dismiss="modal"
							onclick="window.location.href='proyectos.html'">Cerrar</button>
						<button type="button" class="btn btn-outline-success"
							data-dismiss="modal" data-bind="click: $root.excel">Guardar
							como excel</button>
					</div>
				</div>
			</div>
		</div>

	</div>
	<!--  
	<div class="enviarProyecto">
		<button type="button" data-bind="click:$root.explorador"
			id="explorador">Seleccionar proyecto</button>
		<input type="text" name="" placeholder="Dirección proyecto"
			id="direccion"></br>
		<button type="button" data-bind="click:$root.enviar" id="boton_enviar">Enviar
			Proyecto</button>

	</div>
-->


	<!-- Optional JavaScript -->
	<!-- jQuery first, then Popper.js, then Bootstrap JS -->
	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
		integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
		crossorigin="anonymous"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
		integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
		crossorigin="anonymous"></script>
	<script
		src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
		integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
		crossorigin="anonymous"></script>
	<script
		src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<!-- KNOCKOUT -->
	<script src="https://knockoutjs.com/downloads/knockout-3.5.0.js"></script>

	<script src="sendproyecto.js"></script>
	<script src="explorador.js"></script>
	
	<!-- Resources -->
<script src="https://cdn.amcharts.com/lib/4/core.js"></script>
<script src="https://cdn.amcharts.com/lib/4/charts.js"></script>
<script src="https://cdn.amcharts.com/lib/4/themes/animated.js"></script>

<script src="https://cdn.emailjs.com/dist/email.min.js" type="text/javascript"></script>



	<script type="text/javascript">
		function mostrarProyectos() {
			var proyectos = document.getElementsByClassName("cards");
			var grafica = document.getElementById("chartdiv");
			if (proyectos[0].style.display == "none") {
				proyectos[0].style.display = "flex";
				grafica.style.marginTop = "1%";
			} else {
				proyectos[0].style.display = "none";
				grafica.style.marginTop = "15%";
			}
		}

		function Comparar() {
			var boxes = document.getElementById("boxes");
			var cards = document.getElementsByClassName("cards");
			var header = document.getElementById("headerr");
			var headerHeight = header.style.height;
			//header.style.height = "25%";
			boxes.style.display = "initial";
			var bot = document.getElementById("bot");
			//var aux = bot.stlyle.height;
			//var height = aux + headerHeight;
			header.style.height = "30%";
			cards[0].style.marginTop = "17%";
			var boton = document.getElementsByClassName("elegirProyecto");
			boton[0].style.display = "none";
		}
	</script>
</body>
<style>
#chartdiv {
  width: 100%;
  height: 500px;
}
th{
background: darkseagreen;
border: outset;
}

td{
border: outset;
}

#chartdiv2 {
  width: 100%;
  height: 500px;
  }
#chartdiv3 {
  width: 100%;
  height: 500px;
  }
  #chartdiv4 {
  width: 100%;
  height: 500px;
  }
</style>
</html>